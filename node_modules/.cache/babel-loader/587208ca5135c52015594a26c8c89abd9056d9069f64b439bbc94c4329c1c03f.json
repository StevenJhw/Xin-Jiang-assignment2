{"ast":null,"code":"import React,{useState}from'react';import Grid from'./Grid';import'./LifeSimulation.css';import{useLifeSimulation}from'./LifeSimulationContext';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";const MIN_SIZE=3;const MAX_SIZE=40;const LifeSimulation=()=>{const{rowsInput,setRowsInput,colsInput,setColsInput,rows,setRows,cols,setCols,errorMessage,setErrorMessage,cellStates,setCellStates}=useLifeSimulation();const handleChangeRows=e=>{setRowsInput(e.target.value);};const handleChangeCols=e=>{setColsInput(e.target.value);};const handleCellClick=index=>{const newCellStates=[...cellStates];newCellStates[index]=!newCellStates[index];// 切换 Cell 的状态\nsetCellStates(newCellStates);};const handleSubmit=()=>{const newRows=parseInt(rowsInput);const newCols=parseInt(colsInput);if(newRows>=MIN_SIZE&&newRows<=MAX_SIZE&&newCols>=MIN_SIZE&&newCols<=MAX_SIZE){setRows(newRows);setCols(newCols);setCellStates(Array.from({length:newRows},()=>Array.from({length:newCols},()=>false)));setErrorMessage(\"\");}else{setErrorMessage(\"Please enter a value between \".concat(MIN_SIZE,\" and \").concat(MAX_SIZE,\"!\"));return;}};return/*#__PURE__*/_jsxs(\"div\",{className:\"page\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"input-fields\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"height\",children:\"Height:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",id:\"height\",value:rowsInput,onChange:handleChangeRows}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"width\",children:\"Width:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",id:\"width\",value:colsInput,onChange:handleChangeCols}),/*#__PURE__*/_jsx(\"button\",{onClick:handleSubmit,children:\"Submit\"}),errorMessage&&/*#__PURE__*/_jsx(\"div\",{style:{color:'red',marginTop:'5px'},children:errorMessage})]}),/*#__PURE__*/_jsx(\"div\",{className:\"grid-format\",children:/*#__PURE__*/_jsx(Grid,{rows:rows,cols:cols,cellStates:cellStates,handleCellClick:handleCellClick})})]});};export default LifeSimulation;","map":{"version":3,"names":["React","useState","Grid","useLifeSimulation","jsx","_jsx","jsxs","_jsxs","MIN_SIZE","MAX_SIZE","LifeSimulation","rowsInput","setRowsInput","colsInput","setColsInput","rows","setRows","cols","setCols","errorMessage","setErrorMessage","cellStates","setCellStates","handleChangeRows","e","target","value","handleChangeCols","handleCellClick","index","newCellStates","handleSubmit","newRows","parseInt","newCols","Array","from","length","concat","className","children","htmlFor","type","id","onChange","onClick","style","color","marginTop"],"sources":["/Users/Steven/Desktop/NEU/2024 Spring/5610 Web/Project/conways-game-of-life/src/LifeSimulation.js"],"sourcesContent":["\n\n\nimport React, { useState } from 'react';\nimport Grid from './Grid';\nimport './LifeSimulation.css';\nimport { useLifeSimulation } from './LifeSimulationContext';\n\n\nconst MIN_SIZE = 3;\nconst MAX_SIZE = 40;\n\nconst LifeSimulation = () => {\n\n  const { rowsInput, \n    setRowsInput,\n    colsInput, \n    setColsInput,\n    rows, \n    setRows,\n    cols, \n    setCols,\n    errorMessage, \n    setErrorMessage,\n    cellStates, \n    setCellStates } = useLifeSimulation();\n\n\n  const handleChangeRows = (e) => {\n    setRowsInput(e.target.value);\n  };\n\n  const handleChangeCols = (e) => {\n    setColsInput(e.target.value);\n  };\n\n  const handleCellClick = (index) => {\n    const newCellStates = [...cellStates];\n    newCellStates[index] = !newCellStates[index]; // 切换 Cell 的状态\n    setCellStates(newCellStates);\n  };\n\n  const handleSubmit = () => {\n    const newRows = parseInt(rowsInput);\n    const newCols = parseInt(colsInput);\n\n    if (newRows >= MIN_SIZE && newRows <= MAX_SIZE && newCols >= MIN_SIZE && newCols <= MAX_SIZE) {\n      setRows(newRows);\n      setCols(newCols);\n      setCellStates(Array.from({ length: newRows }, () => Array.from({ length: newCols }, () => false)));\n      setErrorMessage(\"\");\n    } else {\n      setErrorMessage(`Please enter a value between ${MIN_SIZE} and ${MAX_SIZE}!`);\n      return;\n    }\n  };\n\n  return (\n    <div className=\"page\">\n      <div className=\"input-fields\">\n        <label htmlFor=\"height\">Height:</label>\n        <input type=\"number\" id=\"height\" value={rowsInput} onChange={handleChangeRows} />\n        <label htmlFor=\"width\">Width:</label>\n        <input type=\"number\" id=\"width\" value={colsInput} onChange={handleChangeCols} />\n        <button onClick={handleSubmit}>Submit</button>\n        {errorMessage && <div style={{ color: 'red', marginTop: '5px' }}>{errorMessage}</div>}\n      </div>\n        \n      <div className=\"grid-format\" > \n      <Grid rows={rows} cols={cols} cellStates={cellStates} handleCellClick={handleCellClick} />\n      </div>\n    </div>\n  );\n}\n\nexport default LifeSimulation;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}